#-----------------------------
# alias
#-----------------------------
alias cdf="cd $HOME/dev/fleet-management-service/paas/fleet-management-service"
alias cdm="cd $HOME/dev/mesos-services-configuration"
alias cdk="cd $HOME/dev/k8s-services-configuration"

#-----------------------------
# Bearer
#-----------------------------
export CRITEO_USER_PASSWORD=Mal_intenSionn3
export CRITEO_PASSWORD=$CRITEO_USER_PASSWORD

refresh_bearer_preprod(){
  export CRITEO_BEARER_PREPROD=$(curl -d '{"login": "b.brisset","password": "'$CRITEO_USER_PASSWORD'"}' -X POST https://jtc-jtc-app.preprod.crto.in/login -H 'Content-Type: application/json')
  echo $CRITEO_BEARER_PREPROD
}
refresh_bearer_prod(){
  export CRITEO_BEARER_PROD=$(curl -d '{"login": "b.brisset","password": "'$CRITEO_USER_PASSWORD'"}' -X POST https://jtc-jtc-app.prod.crto.in/login -H 'Content-Type: application/json')
  echo $CRITEO_BEARER_PROD
}
refresh_kube_credentials(){
  echo 'Refreshing Kube cluster credentials...'
  cd $HOME/dev/k8s-services-configuration
  source venv/bin/activate
  k8s-conf-cli setup
  deactivate
  cd -
  echo 'Refreshing Kube cluster credentials finished'
}

alias curl_preprod='curl -H "Authorization: $CRITEO_BEARER_PREPROD"'
alias curl_prod='curl -H "Authorization: $CRITEO_BEARER_PROD"'

